(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["VueProductCarousel"]=e():t["VueProductCarousel"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"8ad3":function(t,e,n){},9205:function(t,e,n){"use strict";var i=n("8ad3"),o=n.n(i);o.a},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(i){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var i;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-product-carousel",class:{zoomed:t.isZoomed}},[n("div",{staticClass:"block-image"},[n("a",{staticClass:"main-image responsive-image",class:{"background-loading":t.bgLoading},style:t.mainImageStyle,attrs:{href:"#"},on:{click:t.toggleZoom,mousemove:t.onMouseMove}}),n("div",{ref:"swipeWrap",staticClass:"block-image-carousel swipe",attrs:{id:"product-slider"}},[n("div",{staticClass:"swipe-wrap"},t._l(t.images,(function(e,i){return n("div",{key:i},[n("a",{staticClass:"swipe-thumbnail",class:{selected:i===t.next,"background-loading":t.itemsBgLoading},style:t.bgi(e),attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onSlideClick(i)}}})])})),0)]),n("div",{staticClass:"swipe-dots"},t._l(t.images,(function(e,i){return n("a",{key:i,staticClass:"btn-swipe",class:{selected:i===t.next},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onSlideClick(i)}}},[t._v(t._s(i))])})),0)]),n("div",{staticClass:"block-details"},[t._t("default")],2)])},s=[];function r(t,e){var n=function(){},i=function(t){setTimeout(t||n,0)},o={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(document.createElement("swipe"))};if(t){var s,r,a,c,u=t.children[0];e=e||{};var d=parseInt(e.startSlide,10)||0,l=e.speed||300;e.continuous=void 0===e.continuous||e.continuous;var f,h,p=e.auto||0,v={},m={},g={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":i(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":i(this.transitionEnd(t));break;case"resize":i(b);break}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];v={x:e.pageX,y:e.pageY,time:+new Date},h=void 0,m={},u.addEventListener("touchmove",this,!1),u.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var n=t.touches[0];m={x:n.pageX-v.x,y:n.pageY-v.y},"undefined"===typeof h&&(h=!!(h||Math.abs(m.x)<Math.abs(m.y))),h||(t.preventDefault(),L(),e.continuous?(T(x(d-1),m.x+r[x(d-1)],0),T(d,m.x+r[d],0),T(x(d+1),m.x+r[x(d+1)],0)):(m.x/=!d&&m.x>0||d==s.length-1&&m.x<0?Math.abs(m.x)/a+1:1,T(d-1,m.x+r[d-1],0),T(d,m.x+r[d],0),T(d+1,m.x+r[d+1],0)))}},end:function(t){var n=+new Date-v.time,i=Number(n)<250&&Math.abs(m.x)>20||Math.abs(m.x)>a/2,o=!d&&m.x>0||d==s.length-1&&m.x<0;e.continuous&&(o=!1);var c=m.x<0;h||(i&&!o?(c?(e.continuous?(C(x(d-1),-a,0),C(x(d+2),a,0)):C(d-1,-a,0),C(d,r[d]-a,l),C(x(d+1),r[x(d+1)]-a,l),d=x(d+1)):(e.continuous?(C(x(d+1),a,0),C(x(d-2),-a,0)):C(d+1,a,0),C(d,r[d]+a,l),C(x(d-1),r[x(d-1)]+a,l),d=x(d-1)),e.callback&&e.callback(d,s[d])):e.continuous?(C(x(d-1),-a,l),C(d,0,l),C(x(d+1),a,l)):(C(d-1,-a,l),C(d,0,l),C(d+1,a,l))),u.removeEventListener("touchmove",g,!1),u.removeEventListener("touchend",g,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==d&&(p&&S(),e.transitionEnd&&e.transitionEnd.call(t,d,s[d]))}};return b(),p&&S(),o.addEventListener?(o.touch&&u.addEventListener("touchstart",g,!1),o.transitions&&(u.addEventListener("webkitTransitionEnd",g,!1),u.addEventListener("msTransitionEnd",g,!1),u.addEventListener("oTransitionEnd",g,!1),u.addEventListener("otransitionend",g,!1),u.addEventListener("transitionend",g,!1)),window.addEventListener("resize",g,!1)):window.onresize=function(){b()},{setup:b,slide:function(t,e){L(),E(t,e)},prev:function(){L(),y()},next:function(){L(),w()},stop:L,getPos:function(){return d},getNumSlides:function(){return c},kill:function(){L(),u.style.width="",u.style.left="";var t=s.length;while(t--){var e=s[t];e.style.width="",e.style.left="",o.transitions&&T(t,0,0)}o.addEventListener?(u.removeEventListener("touchstart",g,!1),u.removeEventListener("webkitTransitionEnd",g,!1),u.removeEventListener("msTransitionEnd",g,!1),u.removeEventListener("oTransitionEnd",g,!1),u.removeEventListener("otransitionend",g,!1),u.removeEventListener("transitionend",g,!1),window.removeEventListener("resize",g,!1)):window.onresize=null}}}function b(){s=u.children,c=s.length,s.length<2&&(e.continuous=!1),o.transitions&&e.continuous&&s.length<3&&(u.appendChild(s[0].cloneNode(!0)),u.appendChild(u.children[1].cloneNode(!0)),s=u.children),r=new Array(s.length),a="undefined"!==typeof jQuery?jQuery(t).outerWidth():t.getBoundingClientRect().width||t.offsetWidth,u.style.width="".concat(s.length*a,"px");var n=s.length;while(n--){var i=s[n];i.style.width="".concat(a,"px"),i.setAttribute("data-index",n),o.transitions&&(i.style.left="".concat(n*-a,"px"),C(n,d>n?-a:d<n?a:0,0))}e.continuous&&o.transitions&&(C(x(d-1),-a,0),C(x(d+1),a,0)),o.transitions||(u.style.left="".concat(d*-a,"px")),t.style.visibility="visible"}function y(){e.continuous?E(d-1):d&&E(d-1)}function w(){e.continuous?E(d+1):d<s.length-1&&E(d+1)}function x(t){return(s.length+t%s.length)%s.length}function E(t,n){if(d!=t){if(o.transitions){var c=Math.abs(d-t)/(d-t);if(e.continuous){var u=c;c=-r[x(t)]/a,c!==u&&(t=-c*s.length+t)}var f=Math.abs(d-t)-1;while(f--)C(x((t>d?t:d)-f-1),a*c,0);t=x(t),C(d,a*c,n||l),C(t,0,n||l),e.continuous&&C(x(t-c),-a*c,0)}else t=x(t),k(d*-a,t*-a,n||l);d=t,i(e.callback&&e.callback(d,s[d]))}}function C(t,e,n){T(t,e,n),r[t]=e}function T(t,e,n){var i=s[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration="".concat(n,"ms"),o.webkitTransform="translate(".concat(e,"px,0)")+"translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX(".concat(e,"px)"))}function k(t,n,i){if(i)var o=+new Date,r=setInterval((function(){var a=+new Date-o;if(a>i)return u.style.left="".concat(n,"px"),p&&S(),e.transitionEnd&&e.transitionEnd.call(event,d,s[d]),void clearInterval(r);u.style.left="".concat((n-t)*(Math.floor(a/i*100)/100)+t,"px")}),4);else u.style.left="".concat(n,"px")}function S(){f=setTimeout(w,p)}function L(){p=0,clearTimeout(f)}}var a=r,c={swipe:null,props:{images:{type:Array,required:!0,default:function(){return[]}},bodyClassOnZoom:{type:String,required:!1,default:"zoom"}},data:function(){return{isZoomed:!1,positionY:50,current:0,next:0,bgLoading:!0,itemsBgLoading:!0,swipeActive:!1}},computed:{currentSlide:function(){return this.images[this.current]},currentZoomStyle:function(){return{backgroundPosition:"50% ".concat(this.positionY,"%")}},mainImageStyle:function(){return Object.assign({},this.currentZoomStyle,this.bgi(this.currentSlide))}},methods:{updateBodyClass:function(){if(this.bodyClassOnZoom){var t=document.querySelector("body");this.isZoomed?t.classList.add(this.bodyClassOnZoom):t.classList.remove(this.bodyClassOnZoom)}},toggleZoom:function(){this.isZoomed=!this.isZoomed,this.updateBodyClass()},map:function(t,e,n,i,o){return i+(t-e)/(n-e)*(o-i)},onMouseMove:function(t){this.isZoomed&&(this.positionY=this.map(t.clientY,0,window.innerHeight,0,100))},onSwipe:function(t){this.next=t,this.smoothChange()},bgi:function(t){return{backgroundImage:"url('".concat(t,"')")}},onSlideClick:function(t){this.current!==t&&this.next!==t&&(this.next=t,this.smoothChange(),this.swipeActive&&this.$options.swipe.slide(t,400))},smoothChange:function(){var t=this;this.bgLoading=!0,setTimeout((function(){t.current=t.next,t.bgLoading=!1}),400)},smoothChangeItems:function(){var t=this;this.itemsBgLoading=!0,setTimeout((function(){t.itemsBgLoading=!1}),400)},activateSwipe:function(){window.innerWidth>1024||(this.$options.swipe=new a(this.$refs.swipeWrap,{speed:400,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:this.onSwipe}),this.swipeActive=!0)}},watch:{isZoomed:function(t){t||(this.positionY=50)},images:function(){this.onSlideClick(0)}},mounted:function(){this.smoothChange(),this.smoothChangeItems(),this.activateSwipe()}},u=c;n("9205");function d(t,e,n,i,o,s,r,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(t,e){return c.call(e),d(t,e)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:u}}var l=d(u,o,s,!1,null,null,null),f=l.exports;e["default"]=f}})["default"]}));
//# sourceMappingURL=VueProductCarousel.umd.min.js.map